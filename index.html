<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worktree Manager | Plugin for Claude Code</title>
    <meta name="description" content="A Claude Code plugin that turns AI coding from a single assistant into a coordinated team using Git Worktrees.">

    <!-- Open Graph (iMessage, Slack, Discord, etc.) -->
    <meta property="og:title" content="Worktree Manager">
    <meta property="og:description" content="A Claude Code plugin that turns AI coding from a single assistant into a coordinated team using Git Worktrees.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://danielraffel.github.io/worktree-manager/">
    <meta property="og:image" content="https://raw.githubusercontent.com/danielraffel/worktree-manager/refs/heads/main/wtree.png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1024">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Worktree Manager">
    <meta name="twitter:description" content="A Claude Code plugin that turns AI coding from a single assistant into a coordinated team using Git Worktrees.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/danielraffel/worktree-manager/refs/heads/main/wtree.png">

    <style>
        :root {
            --bg: #ffffff;
            --text: #111111;
            --gray: #888888;
            --light-gray: #f4f4f4;
            --accent: #2e8b57; /* Seagreen - subtle, organic code feel */
            --code-bg: #1c1c1c;
            --code-text: #e0e0e0;
            --font-main: -apple-system, BlinkMacSystemFont, "Inter", "Helvetica Neue", Helvetica, Arial, sans-serif;
            --font-mono: "SF Mono", "Menlo", "Monaco", "Courier New", monospace;
            --spacing-unit: 2rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-main);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
        }

        /* Typography */
        h1, h2, h3 {
            font-weight: 700;
            letter-spacing: -0.04em;
            line-height: 1.1;
        }

        h1 {
            font-size: clamp(3rem, 8vw, 6rem);
            margin-bottom: var(--spacing-unit);
        }

        h2 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.8rem;
            color: var(--gray);
        }

        p {
            font-size: 1.25rem;
            max-width: 34ch;
            color: #333;
            margin-bottom: var(--spacing-unit);
        }

        a {
            color: var(--text);
            text-decoration: underline;
            text-underline-offset: 4px;
            transition: color 0.2s;
        }

        a:hover {
            color: var(--accent);
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-unit);
        }

        section {
            padding: calc(var(--spacing-unit) * 4) 0;
            border-top: 1px solid var(--light-gray);
        }

        section:first-of-type {
            border-top: none;
            padding-top: calc(var(--spacing-unit) * 6);
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: var(--spacing-unit);
        }

        .col-left { grid-column: 1 / 6; }
        .col-right { grid-column: 7 / 13; }
        .col-full { grid-column: 1 / 13; }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .col-left, .col-right { grid-column: 1 / 13; }
            h1 { font-size: 3rem; }
            section { padding: calc(var(--spacing-unit) * 2) 0; }
        }

        /* Components */
        .tag {
            display: inline-block;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            border: 1px solid var(--text);
            padding: 4px 12px;
            border-radius: 50px;
            text-transform: uppercase;
            text-decoration: none;
            transition: all 0.2s;
        }
        .tag:hover {
            background: var(--text);
            color: var(--bg);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            margin: 1rem 0 var(--spacing-unit) 0;
            flex-wrap: wrap;
        }
        .nav-links a {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray);
            text-decoration: none;
            transition: color 0.2s;
        }
        .nav-links a:hover {
            color: var(--text);
        }

        .feature-list {
            list-style: none;
        }

        .feature-list li {
            border-bottom: 1px solid var(--light-gray);
            padding: 1.5rem 0;
            font-size: 1.5rem;
            font-weight: 500;
        }

        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 2rem;
            border-radius: 8px;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            overflow-x: auto;
            line-height: 1.7;
            margin-top: 1rem;
            white-space: pre-wrap;
        }

        .code-comment { color: #6a6a6a; }
        .code-command { color: #fff; font-weight: bold; }
        .code-prompt { color: var(--accent); user-select: none; }

        .btn {
            display: inline-block;
            background: var(--text);
            color: var(--bg);
            padding: 1rem 2rem;
            text-decoration: none;
            font-weight: 600;
            border-radius: 4px;
            margin-top: var(--spacing-unit);
        }

        .btn:hover {
            background: var(--accent);
            color: #fff;
        }

        /* Footer */
        footer {
            padding: var(--spacing-unit) 0;
            border-top: 4px solid var(--text);
            margin-top: var(--spacing-unit);
            font-family: var(--font-mono);
            font-size: 0.8rem;
        }

        /* Copy button */
        .code-block-wrapper {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: #333;
            color: #aaa;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .copy-btn:hover { background: #444; color: #fff; }
        .copy-btn.copied { background: var(--accent); color: #fff; }

        /* Workflow cards */
        .workflow-card {
            margin-bottom: 1.5rem;
        }
        .workflow-title {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        .workflow-desc {
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 0.75rem;
        }
        .learn-more {
            color: var(--accent);
            font-size: 0.85rem;
            cursor: pointer;
            text-decoration: underline;
            text-underline-offset: 3px;
        }
        .learn-more:hover { color: var(--text); }
        .details {
            display: none;
            background: var(--light-gray);
            padding: 1rem;
            border-radius: 4px;
            margin-top: 0.75rem;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        .details.open { display: block; }

        /* Alt install */
        .alt-install {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #333;
        }
        .alt-install-label {
            color: var(--gray);
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        /* FAQ */
        .faq-item {
            border-bottom: 1px solid var(--light-gray);
        }
        .faq-question {
            padding: 1.5rem 0;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: color 0.2s;
        }
        .faq-question:hover { color: var(--accent); }
        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            font-weight: 300;
            color: var(--gray);
            transition: transform 0.2s;
        }
        .faq-item.open .faq-question::after {
            content: '−';
        }
        .faq-answer {
            display: none;
            padding-bottom: 1.5rem;
            font-size: 1rem;
            line-height: 1.7;
            color: #444;
        }
        .faq-answer p { max-width: none; font-size: 1rem; margin-bottom: 1rem; }
        .faq-answer p:last-child { margin-bottom: 0; }
        .faq-item.open .faq-answer { display: block; }

        /* Command Reference Table */
        .cmd-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            font-size: 0.95rem;
        }
        .cmd-table th {
            text-align: left;
            padding: 1rem;
            background: var(--light-gray);
            font-weight: 600;
            border-bottom: 2px solid var(--text);
        }
        .cmd-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--light-gray);
            vertical-align: top;
        }
        .cmd-table tr:hover {
            background: #fafafa;
        }
        .cmd-table code {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.85rem;
            word-break: break-all;
            white-space: normal;
        }
        .cmd-table .uses {
            font-size: 0.8rem;
            color: var(--gray);
        }
        .cmd-table .uses a {
            color: var(--accent);
        }

        /* Mobile: Convert table to cards */
        @media (max-width: 768px) {
            .cmd-table thead {
                display: none;
            }
            .cmd-table, .cmd-table tbody, .cmd-table tr, .cmd-table td {
                display: block;
                width: 100%;
            }
            .cmd-table tr {
                margin-bottom: 1.5rem;
                border: 1px solid var(--light-gray);
                border-radius: 8px;
                padding: 1rem;
                background: #fff;
            }
            .cmd-table tr:hover {
                background: #fff;
            }
            .cmd-table td {
                padding: 0.5rem 0;
                border-bottom: none;
            }
            .cmd-table td:first-child {
                font-weight: 600;
                font-size: 1.1rem;
                padding-bottom: 0.75rem;
                border-bottom: 1px solid var(--light-gray);
                margin-bottom: 0.5rem;
            }
            .cmd-table td:nth-child(2) {
                padding-top: 0.75rem;
            }
            .cmd-table td:nth-child(2)::before {
                content: "Command: ";
                font-weight: 600;
                color: var(--gray);
                font-size: 0.8rem;
                display: block;
                margin-bottom: 0.25rem;
            }
            .cmd-table td:nth-child(3)::before {
                content: "You provide: ";
                font-weight: 600;
                color: var(--gray);
                font-size: 0.8rem;
                display: block;
                margin-bottom: 0.25rem;
            }
            .cmd-table td:nth-child(4)::before {
                content: "What happens: ";
                font-weight: 600;
                color: var(--gray);
                font-size: 0.8rem;
                display: block;
                margin-bottom: 0.25rem;
            }
            .cmd-table code {
                display: inline-block;
                word-break: break-all;
                white-space: normal;
                font-size: 0.8rem;
            }
        }

    </style>
</head>
<body>

    <main class="container">
        
        <!-- Hero Section -->
        <section>
            <a href="https://code.claude.com/docs/en/plugins" class="tag">Plugin for Claude Code</a>
            <nav class="nav-links">
                <a href="#concept">Concept</a>
                <a href="#capabilities">Capabilities</a>
                <a href="#installation">Installation</a>
                <a href="#workflows">Workflows</a>
                <a href="#commands">Commands</a>
                <a href="#config">Config</a>
                <a href="#faq">FAQ</a>
            </nav>
            <h1>Parallel universes<br>for your code.</h1>
            <div class="grid">
                <div class="col-left">
                    <p><b>Worktree Manager</b> chains Claude Code plugins like <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> and <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a> to explore and build features in parallel&mdash;each in a clean workspace.</p>
                </div>
                <div class="col-right">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <div class="code-block"><span class="code-prompt">/</span>worktree-manager:start payments plan-and-implement "Add Stripe subscriptions with usage-based billing"</div>
                    </div>
                    <div class="workflow-desc" style="margin-top: 1rem;">
                        One command: creates worktree, plans with feature-dev, builds with ralph-wiggum.
                        <span class="learn-more" onclick="toggleDetails(this)">What happens</span>
                    </div>
                    <div class="details">
                        <strong>Behind that one command:</strong><br>
                        1. Creates <code>~/worktrees/payments/</code> with new branch<br>
                        2. Runs <code>npm install</code> automatically<br>
                        3. <code>feature-dev</code> generates detailed spec<br>
                        4. <code>ralph-wiggum</code> implements iteratively until done<br>
                        5. Spin up additional worktrees to parallelize multiple features.<br><br>
                        When done: review, merge to main.
                    </div>
                </div>
            </div>
        </section>

        <!-- The Concept -->
        <section id="concept">
            <div class="grid">
                <div class="col-left">
                    <h3>The Concept</h3>
                    <h2>Don't let the AI <br>block your terminal.</h2>
                </div>
                <div class="col-right">
                    <p>When you ask an AI to build a feature, it usually monopolizes your environment. You wait. You watch text stream.</p>
                    <p><strong>Worktree Manager changes the topology.</strong> It spins up a clean, separate copy of your project (a git <a href="https://git-scm.com/docs/git-worktree">worktree</a>), installs dependencies, and assigns an AI worker to that specific directory.</p>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section id="capabilities">
            <div class="grid">
                <div class="col-left">
                    <h3>Capabilities</h3>
                    <p>It turns "a single assistant you chat with" into a coordinated mini-team.</p>
                </div>
                <div class="col-right">
                    <ul class="feature-list">
                        <li>Creates isolated Git Worktrees automatically</li>
                        <li>Auto-detects project type & installs dependencies</li>
                        <li>Chains <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> and <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a> for automated planning and implementation</li>
                        <li>Safe experimentation without contaminating main</li>
                        <li>Zero bookkeeping required</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- How it works / Install -->
        <section id="installation">
            <div class="grid">
                <div class="col-full">
                    <h3>Installation</h3>
                    <h2>One minute setup.</h2>
                    <p style="max-width: 60ch;">Requires <a href="https://claude.ai/code">Claude Code</a>. For automated workflows, also install <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> and <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a>.</p>
                </div>
                <div class="col-full">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyInstall(this)">Copy</button>
                        <div class="code-block" id="install-code">
<span class="code-comment"># 1. Clone the repo</span>
git clone https://github.com/danielraffel/worktree-manager ~/worktree-manager
cd ~/worktree-manager

<span class="code-comment"># 2. Build the MCP server</span>
cd mcp-server && npm install && npm run build && cd ..

<span class="code-comment"># 3. Run Claude Code with the plugin</span>
cd /your/project
claude --plugin-dir ~/worktree-manager/plugin
                        </div>
                    </div>
                    <div style="display: flex; gap: 2rem; align-items: center; margin-top: 1.5rem; flex-wrap: wrap;">
                        <a href="https://github.com/danielraffel/worktree-manager" class="btn" style="margin: 0;">View on GitHub &rarr;</a>
                        <div style="color: var(--gray); font-size: 0.9rem;">
                            Use <code style="background: var(--light-gray); padding: 0.3rem 0.6rem; border-radius: 4px; font-size: 0.85rem;">--plugin-dir</code> each time, or add to shell alias for convenience.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workflow Examples -->
        <section id="workflows">
            <div class="grid">
                <div class="col-full">
                    <h3>Workflows</h3>
                    <h2>Choose your automation level.</h2>
                </div>

                <div class="col-left">
                    <div class="workflow-card">
                        <div class="workflow-title">Simple</div>
                        <div class="code-block-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <div class="code-block">/worktree-manager:start bug-fix</div>
                        </div>
                        <div class="workflow-desc">
                            Creates isolated worktree for manual work.
                            <span class="learn-more" onclick="toggleDetails(this)">Learn more</span>
                        </div>
                        <div class="details">
                            <strong>What happens:</strong><br>
                            1. Creates <code>~/worktrees/bug-fix/</code> directory<br>
                            2. Creates <code>feature/bug-fix</code> branch<br>
                            3. Auto-detects project type (Node, Swift, etc.)<br>
                            4. Runs setup commands (npm install, etc.)<br><br>
                            <strong>Use when:</strong> You want a clean workspace to work in manually.
                        </div>
                    </div>
                </div>
                <div class="col-right">
                    <div class="workflow-card">
                        <div class="workflow-title">Plan-only</div>
                        <div class="code-block-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <div class="code-block">/worktree-manager:start auth plan-only "OAuth2 login"</div>
                        </div>
                        <div class="workflow-desc">
                            Creates worktree + generates spec with feature-dev.
                            <span class="learn-more" onclick="toggleDetails(this)">Learn more</span>
                        </div>
                        <div class="details">
                            <strong>What happens:</strong><br>
                            1. Creates worktree and branch<br>
                            2. Runs <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> plugin with your prompt<br>
                            3. Saves detailed spec to <code>audit/auth.md</code><br><br>
                            <strong>Use when:</strong> You want AI to plan the feature, then implement yourself or review before building.
                        </div>
                    </div>
                </div>
                <div class="col-left">
                    <div class="workflow-card">
                        <div class="workflow-title">Implement-only</div>
                        <div class="code-block-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <div class="code-block">/worktree-manager:start auth implement-only audit/auth.md</div>
                        </div>
                        <div class="workflow-desc">
                            Creates worktree + Ralph builds from existing spec.
                            <span class="learn-more" onclick="toggleDetails(this)">Learn more</span>
                        </div>
                        <div class="details">
                            <strong>What happens:</strong><br>
                            1. Creates worktree and branch<br>
                            2. Activates <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a> loop<br>
                            3. Ralph reads your spec and implements iteratively<br>
                            4. Loops until completion promise is met<br><br>
                            <strong>Use when:</strong> You have a spec already and want autonomous implementation.
                        </div>
                    </div>
                </div>
                <div class="col-right">
                    <div class="workflow-card">
                        <div class="workflow-title">Full Automation</div>
                        <div class="code-block-wrapper">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <div class="code-block">/worktree-manager:start comments plan-and-implement "Add threading"</div>
                        </div>
                        <div class="workflow-desc">
                            Plans with feature-dev, then implements with Ralph.
                            <span class="learn-more" onclick="toggleDetails(this)">Learn more</span>
                        </div>
                        <div class="details">
                            <strong>What happens:</strong><br>
                            1. Creates worktree and branch<br>
                            2. Runs feature-dev → generates spec<br>
                            3. Activates ralph-wiggum loop with the spec<br>
                            4. Ralph implements iteratively until done<br>
                            5. Entire feature developed autonomously<br><br>
                            <strong>Use when:</strong> You want end-to-end automation. Just describe what you want.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Command Reference -->
        <section id="commands">
            <div class="grid">
                <div class="col-full">
                    <h3>Command Reference</h3>
                    <h2>Quick lookup.</h2>
                    <table class="cmd-table">
                        <thead>
                            <tr>
                                <th>What you want</th>
                                <th>Command</th>
                                <th>You provide</th>
                                <th>What happens</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Create a worktree<br>(manual work)</td>
                                <td><code>/worktree-manager:start &lt;name&gt;</code></td>
                                <td>name (e.g. <code>bug-fix</code>)</td>
                                <td>Creates an isolated workspace for that task. No AI planning/building kicked off.<br><span class="uses">Uses: Worktrees only</span></td>
                            </tr>
                            <tr>
                                <td>Create + plan<br>(feature exploration)</td>
                                <td><code>/worktree-manager:start &lt;name&gt; plan-only "&lt;idea&gt;"</code></td>
                                <td>name, a short idea/goal string</td>
                                <td>Creates a fresh workspace and generates a structured plan/spec for the feature.<br><span class="uses">Uses: Worktrees + <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a></span></td>
                            </tr>
                            <tr>
                                <td>Create + implement<br>(from existing spec)</td>
                                <td><code>/worktree-manager:start &lt;name&gt; implement-only &lt;spec&gt;</code></td>
                                <td>name, path to spec file (e.g. <code>audit/auth.md</code>)</td>
                                <td>Creates a fresh workspace and implements what's described in the spec.<br><span class="uses">Uses: Worktrees + <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a></span></td>
                            </tr>
                            <tr>
                                <td>Create + plan + implement<br>(full automation)</td>
                                <td><code>/worktree-manager:start &lt;name&gt; plan-and-implement "&lt;idea&gt;"</code></td>
                                <td>name, a short idea/goal string</td>
                                <td>Creates a fresh workspace, plans the work, then implements it—iterating until done.<br><span class="uses">Uses: Worktrees + <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> + <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a></span></td>
                            </tr>
                            <tr>
                                <td>List all worktrees</td>
                                <td><code>/worktree-manager:list</code></td>
                                <td>nothing</td>
                                <td>Shows all active worktrees with their paths and branches.<br><span class="uses">Uses: Worktrees only</span></td>
                            </tr>
                            <tr>
                                <td>Check worktree status</td>
                                <td><code>/worktree-manager:status &lt;path&gt;</code></td>
                                <td>worktree path</td>
                                <td>Shows git status, uncommitted changes, and branch info for a worktree.<br><span class="uses">Uses: Worktrees only</span></td>
                            </tr>
                            <tr>
                                <td>Cleanup worktree</td>
                                <td><code>/worktree-manager:cleanup &lt;path&gt; [--merge]</code></td>
                                <td>worktree path, optional --merge flag</td>
                                <td>Removes worktree. With --merge, merges branch to main first.<br><span class="uses">Uses: Worktrees only</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Configuration -->
        <section id="config">
            <div class="grid">
                <div class="col-full">
                    <h3>Configuration</h3>
                    <h2>Override defaults.</h2>
                    <p style="max-width: 60ch;">Create a config file to customize behavior. Project config overrides user config, which overrides defaults.</p>
                </div>
                <div class="col-left">
                    <h4 style="margin-bottom: 1rem; font-size: 1rem;">Config file locations</h4>
                    <ul class="feature-list" style="font-size: 1rem;">
                        <li><strong>Project:</strong> <code>.claude/worktree-manager.local.md</code></li>
                        <li><strong>Global:</strong> <code>~/.claude/worktree-manager.local.md</code></li>
                    </ul>
                </div>
                <div class="col-right">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <div class="code-block"><span class="code-comment"># .claude/worktree-manager.local.md</span>
---
<span class="code-comment"># Where to create worktrees</span>
worktree_base_path: ~/worktrees

<span class="code-comment"># Branch prefix (default: feature/)</span>
branch_prefix: feature/

<span class="code-comment"># Default workflow when not specified</span>
default_workflow: simple

<span class="code-comment"># Directory for spec files</span>
spec_directory: audit

<span class="code-comment"># Max iterations for ralph</span>
default_max_iterations: 50

<span class="code-comment"># Create LEARNINGS.md in worktree</span>
create_learnings_file: false
---</div>
                    </div>
                </div>
                <div class="col-full" style="margin-top: 2rem;">
                    <table class="cmd-table">
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Default</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>worktree_base_path</code></td>
                                <td><code>~/worktrees</code></td>
                                <td>Base directory where all worktrees are created</td>
                            </tr>
                            <tr>
                                <td><code>branch_prefix</code></td>
                                <td><code>feature/</code></td>
                                <td>Prefix for new branches (e.g., <code>feature/my-task</code>)</td>
                            </tr>
                            <tr>
                                <td><code>default_workflow</code></td>
                                <td><code>simple</code></td>
                                <td>Workflow when not specified: <code>simple</code>, <code>plan-only</code>, <code>implement-only</code>, <code>plan-and-implement</code></td>
                            </tr>
                            <tr>
                                <td><code>spec_directory</code></td>
                                <td><code>audit</code></td>
                                <td>Where spec files are saved (relative to project root)</td>
                            </tr>
                            <tr>
                                <td><code>default_max_iterations</code></td>
                                <td><code>50</code></td>
                                <td>Maximum ralph-wiggum iterations before auto-stop</td>
                            </tr>
                            <tr>
                                <td><code>create_learnings_file</code></td>
                                <td><code>false</code></td>
                                <td>Create <code>LEARNINGS.md</code> in worktree to capture insights</td>
                            </tr>
                            <tr>
                                <td><code>auto_commit</code></td>
                                <td><code>false</code></td>
                                <td>Auto-commit changes during ralph execution</td>
                            </tr>
                            <tr>
                                <td><code>auto_push</code></td>
                                <td><code>false</code></td>
                                <td>Auto-push to remote after commits</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq">
            <div class="grid">
                <div class="col-full">
                    <h3>FAQ</h3>
                    <h2>Common questions.</h2>
                </div>
                <div class="col-full">
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What's the status of this project?</div>
                        <div class="faq-answer">
                            <p><strong>Very early beta.</strong> This project was cobbled together on December 31, 2025 and should be considered experimental. Only a handful of people have tried it so far.</p>
                            <p>Expect rough edges, breaking changes, and incomplete features. Use at your own risk. This notice will be updated if/when the project matures.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">How do I install plugins in Claude Code?</div>
                        <div class="faq-answer">
                            <p><strong>For official marketplace plugins</strong> (like feature-dev and ralph-wiggum): Launch Claude Code and type <code>/plugins</code>. Search for the plugin you want, select it, and install. After installing marketplace plugins, you must quit and restart Claude Code for them to take effect. See the <a href="https://code.claude.com/docs/en/discover-plugins">official plugin documentation</a> for more details.</p>
                            <p><strong>For Worktree Manager:</strong> This plugin isn't in the marketplace yet (but will be). For now, clone the repository and use the <code>--plugin-dir</code> flag:</p>
                            <p><code>git clone https://github.com/danielraffel/worktree-manager ~/worktree-manager</code><br>
                            <code>cd ~/worktree-manager/mcp-server && npm install && npm run build</code><br>
                            <code>claude --plugin-dir ~/worktree-manager/plugin</code></p>
                            <p>You'll need to include <code>--plugin-dir</code> each time you launch Claude, or add a shell alias for convenience.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Why would I need a plugin like this? What's the alternative?</div>
                        <div class="faq-answer">
                            <p>Without worktrees, the typical process is: stash your current changes, create a new branch, work on the feature, commit, switch back to your original branch, pop your stash. If you want AI help, it monopolizes your terminal while it works.</p>
                            <p>With Worktree Manager, you skip all that context-switching. The AI works in a completely separate directory on a separate branch. You can spin up multiple worktrees and have several Claude agents working in parallel—each isolated, each on its own feature.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">What can I do with just the worktree-manager plugin?</div>
                        <div class="faq-answer">
                            <p>Even without the optional plugins, Worktree Manager handles the tedious parts: creating the worktree directory, checking out a new branch, detecting your project type, and running setup commands like <code>npm install</code>.</p>
                            <p>You can spin up multiple worktrees and open separate Claude Code sessions in each—giving you parallel AI agents working on different features simultaneously. When you're done, use <code>/worktree-manager:cleanup --merge</code> to merge changes back to main and clean up. Push to git manually or let Claude do it.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Do I need to install feature-dev and ralph-wiggum?</div>
                        <div class="faq-answer">
                            <p>No, they're optional. The "simple" workflow works without them.</p>
                            <p>But the real power comes from chaining them together. <a href="https://github.com/anthropics/claude-code/tree/main/plugins/feature-dev">feature-dev</a> analyzes your codebase and generates detailed implementation specs. <a href="https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum">ralph-wiggum</a> takes those specs and implements them autonomously, iterating until done. Together, you describe what you want in plain English and come back to a completed feature.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Why does it say "no git repo detected" when I have one?</div>
                        <div class="faq-answer">
                            <p>Git worktrees require an existing repository with at least one commit. If you just ran <code>git init</code> but haven't committed anything yet, worktrees won't work.</p>
                            <p>Fix: make an initial commit first (<code>git add . && git commit -m "Initial commit"</code>), then try again.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Can you explain this without all the jargon?</div>
                        <div class="faq-answer">
                            <p>Worktree Manager lets you safely ask AI to try ideas and make changes to a project without messing up what you're currently working on.</p>
                            <p><strong>The simple mental model:</strong> it creates a separate "workspace" for each task—like making a duplicate of your project dedicated to "try Feature A" or "fix Bug B." You keep working in your normal workspace while the AI works in the separate one.</p>
                            <p><strong>It pairs well with two other plugins:</strong></p>
                            <p>• <strong>feature-dev</strong> helps you explore a feature: it asks the right questions, proposes approaches, and turns a vague idea into a clear plan.<br>
                            • <strong>ralph-wiggum</strong> takes that plan and does the work: it makes changes, checks things, and keeps iterating until the feature is done.</p>
                            <p><strong>Worktree Manager coordinates the whole thing:</strong></p>
                            <p>1. You tell it what you want ("try a new onboarding flow").<br>
                            2. It spins up a fresh, isolated workspace for that task.<br>
                            3. It can automatically run the planning helper, then the implementation helper.<br>
                            4. The AI loops—plan, implement, adjust—inside that isolated workspace until it reaches a good stopping point.<br>
                            5. You review the results and decide what to bring back into your main project.</p>
                            <p><strong>Why this matters:</strong> You can run multiple tasks in parallel, each in its own isolated workspace. Your main project stays clean and stable while experiments happen elsewhere. The AI only works inside the workspace you created for it, and you only merge changes you've reviewed.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">How does ralph-wiggum know to work in the worktree?</div>
                        <div class="faq-answer">
                            <p><strong>Technical detail:</strong> When you use <code>implement-only</code> or <code>plan-and-implement</code>, Worktree Manager activates ralph-wiggum with explicit instructions to work only in the worktree directory using absolute paths.</p>
                            <p>The ralph-wiggum "loop" works by having a Stop hook that prevents Claude from exiting and feeds the same task back. This hook looks for a state file in your current Claude session directory. Worktree Manager creates this state file with instructions like: "CRITICAL: Work ONLY in ~/worktrees/my-feature/ using absolute paths."</p>
                            <p>This means all file reads, writes, and git operations happen in the isolated worktree—not your main project. If an existing clean worktree is found, it's reused automatically.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Why does ralph-wiggum keep looping after the work is done?</div>
                        <div class="faq-answer">
                            <p>This is a known quirk of ralph-wiggum's design. To exit the loop, Claude must output the literal text <code>&lt;promise&gt;DONE&lt;/promise&gt;</code>. Sometimes Claude completes the work but says things like "Done", "Complete", or "Finished" instead of outputting the exact escape tag.</p>
                            <p>When this happens, you'll see iterations increment (e.g., "Ralph iteration 25... 26... 27...") with Claude repeatedly confirming completion but not exiting. The loop will run until it hits the max iterations limit (default: 50).</p>
                            <p><strong>This is harmless but wasteful.</strong> Your work was completed successfully—the extra iterations just burn through API credits. You can manually stop Claude (Ctrl+C) once you see the work is done, or wait for max iterations.</p>
                            <p><strong>Update:</strong> We've added explicit exit instructions to the task prompt, and testing shows this <strong>significantly improves</strong> Claude's exit behavior. Most tasks now exit cleanly with the proper tag.</p>
                            <p><strong>If you still see excessive looping:</strong></p>
                            <p>1. Lower <code>default_max_iterations</code> in your config file (e.g., to 20) to cap wasted iterations.</p>
                            <p>2. Manually stop Claude (Ctrl+C) once you see the work is done.</p>
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">Can I run multiple ralph-wiggum loops in parallel worktrees?</div>
                        <div class="faq-answer">
                            <p><strong>Not from the same directory.</strong> Ralph-wiggum's state file (<code>.claude/ralph-loop.local.md</code>) is tied to your Claude session's current working directory, not the worktree. If you run multiple Claude sessions from the same parent directory, they'll all see the same state file and interfere with each other.</p>
                            <p><strong>Workaround:</strong> Run each Claude session <strong>from within the worktree directory</strong> instead of your main project directory:</p>
                            <p><code>cd ~/worktrees/feature-a<br>claude --plugin-dir ~/worktree-manager/plugin</code></p>
                            <p>This way each worktree has its own isolated <code>.claude/</code> directory, and ralph loops won't cross-contaminate. You can then have multiple terminals, each running Claude from a different worktree, all working independently.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="container">
        <div class="grid">
            <div class="col-left">
                <a href="https://danielraffel.me" style="text-decoration: none;">Daniel Raffel</a> &copy; 2026</a>
            </div>
            <div class="col-right" style="text-align: right;">
                <a href="https://github.com/danielraffel/worktree-manager" style="text-decoration: none;">GitHub Repository ↗</a>
            </div>
        </div>
    </footer>

    <script>
        function copyInstall(btn) {
            const code = document.getElementById('install-code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function copyCode(btn) {
            const code = btn.nextElementSibling.innerText;
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function toggleDetails(el) {
            const details = el.parentElement.nextElementSibling;
            details.classList.toggle('open');
            el.textContent = details.classList.contains('open') ? 'Show less' : 'Learn more';
        }

        function toggleFaq(el) {
            el.parentElement.classList.toggle('open');
        }
    </script>
</body>
</html>